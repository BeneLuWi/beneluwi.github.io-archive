{"version":3,"sources":["components/play/displayarticle/Parsers.tsx","assets/components/section/SectionAccordion.tsx","components/play/displayarticle/DisplayArticle.tsx","components/play/currentgoal/CurrentGoal.tsx","components/play/buttonbar/ButtonBar.tsx","components/play/Play.tsx","components/select/Select.tsx","components/win/Win.tsx","assets/components/progressbar/ProgressBar.tsx","components/App.tsx","serviceWorker.ts","index.tsx","assets/img/logo-noback-256.png"],"names":["html2json","require","article2sections","article","title","lead","normalizedtitle","content","parse_section","sections","text","remaining","map","section","line","filter","length","art","html","document","createElement","innerHTML","child","flat","elem","includes","part","parse_node","node","tag","attr","href","startsWith","link","substr","ch","onClick","disabled","className","dangerouslySetInnerHTML","__html","c","SectionAccordion","loadNew","useState","expand","setExpand","useEffect","DisplayArticle","setArticle","setProgress","window","scrollTo","top","left","axios","get","onDownloadProgress","p","loaded","then","res","data","catch","err","console","log","slice","width","height","src","logo","alt","CurrentGoal","show","setShowGoal","goal","style","position","right","shareApp","navigator","share","url","error","clipboard","writeText","ButtonBar","startNewGame","setGameState","gameState","newGame","showGoal","showBar","setShowBar","transitions","useTransition","from","enter","leave","clicks","item","props","key","div","beforeGame","Play","goalArticle","setGoalArticle","setNewGame","replace","win","goals","level","score","Select","setGoal","setScore","localStorage","getItem","newScore","JSON","parse","g","s","find","sc","setItem","stringify","playing","startGame","Win","ProgressBar","progress","transition","App","onBeforeUnloadEventHandler","e","preventDefault","returnValue","addEventListener","removeEventListener","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","ReactDOM","render","StrictMode","getElementById","URL","process","origin","fetch","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","module","exports"],"mappings":"sVAGMA,EAAYC,EAAQ,IAAaD,UAa1BE,EAAmB,SAACC,GAC7B,MAAM,CACF,CACIC,MAAOD,EAAQE,KAAKC,gBACpBC,QAASC,EAAcL,EAAQE,KAAKI,SAAS,GAAGC,QAHxD,mBAKOP,EAAQQ,UAAUF,SAChBG,KAAI,SAACC,GAAD,MAAmB,CACpBT,MAAOS,EAAQC,KACfP,QAASC,EAAcK,EAAQH,UAElCK,QAAO,SAACF,GAAD,OAAsBA,EAAQN,QAAQS,aAI7CR,EAAgB,SAACS,GAC1B,IAAIC,EAAOC,SAASC,cAAc,OAElC,OADAF,EAAKG,UAAYJ,EACVjB,EAAUkB,EAAKG,WACjBC,MACAC,OACAR,QAAO,SAACS,GAAD,OAAgBA,EAAKd,OAAQc,EAAKd,KAAKe,SAAS,SACvDb,KAAI,SAACc,GAAD,OAAmBC,EAAWD,MAClCH,QAGII,EAAa,SAAbA,EAAcC,GAAgC,IAAD,QACtD,IAAKA,EAAM,MAAO,GAElB,GADIA,EAAKN,QAAOM,EAAKN,MAAQM,EAAKN,MAAMP,QAAO,SAACS,GAAD,OAAgBA,EAAKd,OAAQc,EAAKd,KAAKe,SAAS,UAC7E,SAAdG,EAAKA,KAAiB,MAAO,CAAC,eAAIA,EAAL,CAAWC,IAAK,UAEjD,OAAQD,EAAKC,KACT,IAAK,IACD,QAAI,UAACD,EAAKE,YAAN,aAAC,EAAWC,KAAKC,WAAW,YAA5B,UACAJ,EAAKE,YADL,aACA,EAAWC,KAAKC,WAAW,kBAD3B,UAEAJ,EAAKE,YAFL,aAEA,EAAWC,KAAKC,WAAW,mBACtB,CAAC,eAAIJ,EAAL,CAAWC,IAAK,OAAQD,KAAM,UAClCA,EAAKN,MAAM,GAAGZ,KACZ,CAAC,CACJmB,IAAK,IACLD,KAAM,UACNlB,KAAMkB,EAAKN,MAAM,GAAGZ,KACpBY,MAAO,GACPW,KAAI,UAAEL,EAAKE,YAAP,aAAE,EAAWC,KAAKG,OAAO,KAND,GAQpC,IAAK,SACD,MAAO,GAEX,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACD,MAAO,CAAC,eACDN,EADA,CAEHN,MAAOM,EAAKN,MAAQM,EAAKN,MAAMV,KAAI,SAAAuB,GAAE,OAAIR,EAAWQ,MAAKZ,OAAS,MAE1E,IAAK,QACD,MAAO,CAAC,eACDK,EADA,CAEHN,MAAOK,EAAWC,EAAKN,MAAM,OAGrC,IAAK,QACD,MAAO,GACX,QACI,OAAOM,EAAKN,MAAQM,EAAKN,MAAMV,KAAI,SAAAuB,GAAE,OAAIR,EAAWQ,MAAKZ,OAAS,KAIjEH,EAAgB,SAAhBA,EAAiBQ,EAAgBQ,GAA6E,IAAhCC,EAA+B,wDACtH,OAAQT,EAAKC,KACT,IAAK,IACD,OAAKD,EAAKK,KACNI,EAAiB,0BAAMC,UAAU,WAAWC,wBAAyB,CAACC,OAAQZ,EAAKlB,QAEnF,4BACI4B,UAAU,2DACVF,QAAS,kBAAMA,EAAQR,EAAKK,QAC5B,0BAAMM,wBAAyB,CAACC,OAAQZ,EAAKlB,SAN9B,0BAAM6B,wBAAyB,CAACC,OAAQZ,EAAKlB,QASxE,IAAK,OACD,OAAO,0BAAM6B,wBAAyB,CAACC,OAAQZ,EAAKlB,QACxD,IAAK,KACD,OACI,wBAAI4B,UAAU,IACTV,EAAKN,MAAMP,QAAO,SAAA0B,GAAC,OAAIA,EAAEnB,MAAMN,UAAQJ,KAAI,SAAAU,GAAK,OAAIF,EAAcE,EAAOc,EAASC,OAG/F,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,QACD,OAAKT,EAAKN,MAAMN,OAEZ,kBAACY,EAAKC,IAAN,KACKD,EAAKN,MAAMV,KAAI,SAAAU,GAAK,OAAIF,EAAcE,EAAOc,EAASC,OAHhC,GAMnC,IAAK,QACD,OACI,yBAAKC,UAAU,iBACX,2BAAOA,UAAU,gBACZV,EAAKN,MAAMV,KAAI,SAAAU,GAAK,OAAIF,EAAcE,EAAOc,EAASC,U,gBC9EhEK,G,MArCkC,SAAC,GAAwC,IAAvC7B,EAAsC,EAAtCA,QAAQ8B,EAA8B,EAA9BA,QAA8B,IAArBN,gBAAqB,WAMzDO,oBAAkB,GANuC,mBAM9EC,EAN8E,KAMtEC,EANsE,KAiBrF,OATAC,qBAAU,WAAOD,GAAU,KAAS,CAACjC,IAUjC,yBAAKyB,UAAU,WACX,yBACIA,UAAU,mDACVF,QAAS,kBAAMU,GAAWD,KAC1B,0BAAMN,wBAAyB,CAACC,OAAQ3B,EAAQT,UAEnDyC,GACG,6BACKhC,EAAQN,QAAQK,KAAI,SAAAgB,GAAI,OACrB,8BACKR,EAAcQ,EAAMe,EAASN,W,gBC4B3CW,G,MAzDuC,SAAC,GAAwC,IAAvC7C,EAAsC,EAAtCA,QAAS8C,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,YAMzEH,qBAAU,WACNG,EAAY,GACZC,OAAOC,SAAS,CACZC,IAAK,EACLC,KAAM,MAEX,CAACnD,IAKJ,IAAMwC,EAAU,SAACV,GACbiB,EAAY,GACZC,OAAOC,SAAS,CACZC,IAAK,EACLC,KAAM,IAEVC,IAAMC,IAAI,6DAA+DvB,EAAM,CAC3EwB,mBAAoB,SAAAC,GAAC,OAAIR,EAAYQ,EAAEC,OAAS,QAE/CC,MAAK,SAAAC,GACFZ,EAAW/C,EAAiB2D,EAAIC,UACjCC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAMpC,OAAK7D,EAAQa,OAOT,6BACI,6BACI,4BAAKb,EAAQ,GAAGC,OACfD,EAAQ,GAAGI,QAAQK,KAAI,SAAAgB,GAAI,OACxB,8BACKR,EAAcQ,EAAMe,QAIhCxC,EAAQgE,MAAM,GAAGvD,KAAI,SAAAC,GAAO,OACzB,kBAAC,EAAD,CAAkB8B,QAASA,EAAS9B,QAASA,QAhBrD,yBAAKyB,UAAU,uBACX,yBAAKA,UAAU,sBAAsB8B,MAAO,IAAKC,OAAQ,IAAKC,IAAKC,IAAMC,IAAI,wBCQ1EC,EA7CiC,SAAC,GAAwC,IAAvCC,EAAsC,EAAtCA,KAAMC,EAAgC,EAAhCA,YAAaxE,EAAmB,EAAnBA,QAcjE,OAdoF,EAAVyE,MAc7DzE,EAAQa,QAEhB0D,EAGD,yBAAKpC,UAAU,YACX,yBAAKA,UAAU,6DACX,yBACIF,QAAS,kBAAMuC,GAAY,IAC3BrC,UAAU,oCACVuC,MAAO,CAACC,SAAU,QAASzB,IAAK,GAAI0B,MAAO,KAH/C,gBAIc,uBAAGzC,UAAU,yBAE3B,6BACI,4BACKnC,EAAQ,GAAGC,OAEfD,EAAQ,GAAGI,QAAQK,KAAI,SAAAgB,GAAI,OACxB,8BACKR,EAAcQ,GAAM,eAAU,QAItCzB,EAAQgE,MAAM,GAAGvD,KAAI,SAAAC,GAAO,OACzB,kBAAC,EAAD,CAAkB8B,QAAS,aAAU9B,QAASA,EAASwB,UAAU,SAxBjD,M,gBCV3B2C,EAAW,WAEhBC,UAAUC,MAEVD,UAAUC,MAAM,CACZ9E,MAAO,cACPM,KAAM,gCACNyE,IAAK,4CAEJvB,MAAK,kBAAMK,QAAQC,IAAI,uBACvBH,OAAM,SAACqB,GAAD,OAAgBnB,QAAQC,IAAI,gBAAiBkB,MAExDH,UAAUI,UAAUC,UAAU,4CAqFvBC,EAjF6B,SAAC,GAAmF,IAAlFC,EAAiF,EAAjFA,aAAcC,EAAmE,EAAnEA,aAAcC,EAAqD,EAArDA,UAAWC,EAA0C,EAA1CA,QAASC,EAAiC,EAAjCA,SAAUjB,EAAuB,EAAvBA,YAAaC,EAAU,EAAVA,KAAU,EAM7FhC,oBAAkB,GAN2E,mBAMpHiD,EANoH,KAM3GC,EAN2G,KAQrHC,EAAcC,YAAcH,EAAS,KAAM,CAC7CI,KAAM,CAAE5B,OAAQ,EAAGD,MAAO,KAC1B8B,MAAO,CAAE7B,OAAQ,KACjB8B,MAAO,CAAE9B,OAAQ,KAWrB,OACI,6BACI,yBAAK/B,UAAU,4BACX,4BACIA,UAAU,wBACVF,QAAS,kBAAM0D,GAAYD,KAC3B,uBAAGvD,UAAU,sBAEjB,0BACIF,QAAS4C,EACT1C,UAAU,wBAFd,eAKA,4BACIA,UAAU,wBACVF,QAAS,kBAAMuC,GAAaiB,KAC5B,uBAAGtD,UAAU,sBAHjB,WAGwCsC,QAHxC,IAGwCA,OAHxC,EAGwCA,EAAMxE,QAE5CuF,GACE,0BACIrD,UAAU,eADd,WAEiBoD,EAAUU,SAKlCL,EAAYnF,KAAI,gBAAGyF,EAAH,EAAGA,KAAWC,GAAd,EAASC,IAAT,EAAcD,OAAd,OACbD,GACI,kBAAC,IAASG,IAAV,CAAclE,UAAU,4BAA4BuC,MAAOyB,IACrDX,GACF,4BACIvD,QAAS,WAAOoD,IAAgBM,GAAYD,IAC5CvD,UAAU,yBACV,uBAAGA,UAAU,eAHjB,kBAMA,4BACIA,UAAU,wBACVF,QAAS,WAAOqD,EAAagB,GAAaX,GAAYD,KACtD,uBAAGvD,UAAU,uBAHjB,wBAKA,4BACIA,UAAU,wBACVF,QAAS4C,GACT,uBAAG1C,UAAU,gBAHjB,sBAQXqD,GACD,4BACIrD,UAAU,+DACVF,QAASoD,GAFb,YAGa,uBAAGlD,UAAU,gCCfvBoE,EA7EmB,SAAC,GAAiD,IAAhD9B,EAA+C,EAA/CA,KAAMa,EAAyC,EAAzCA,aAAcC,EAA2B,EAA3BA,UAAUxC,EAAiB,EAAjBA,YAAiB,EAMjDN,mBAAoB,IAN6B,mBAMxEzC,EANwE,KAM/D8C,EAN+D,OAOzCL,mBAAoB,IAPqB,mBAOxE+D,EAPwE,KAO3DC,EAP2D,OAQ/ChE,oBAAS,GARsC,mBAQxEgD,EARwE,KAQ9DjB,EAR8D,OASjD/B,oBAAS,GATwC,mBASxE+C,EATwE,KAS/DkB,EAT+D,KAW/E9D,qBAAU,WACNG,EAAY,KACb,CAACyD,IAGJ5D,qBAAU,WACNG,EAAY,GACZK,IAAMC,IAAI,qEAA+DoB,QAA/D,IAA+DA,OAA/D,EAA+DA,EAAMxE,MAAM0G,QAAQ,IAAK,MAAM,CACpGrD,mBAAoB,SAAAC,GAAC,OAAIR,EAAYQ,EAAEC,OAAS,QAE/CC,MAAK,SAAAC,GACF+C,EAAe1G,EAAiB2D,EAAIC,UACrCC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAChCW,GAAY,KACb,CAACC,IAGJ7B,qBAAU,WACF5C,EAAQa,QAAUb,EAAQ,GAAGC,SAAX,OAAqBwE,QAArB,IAAqBA,OAArB,EAAqBA,EAAMxE,QAC7CqF,EAAa,eAAIC,EAAL,CAAgBqB,KAAK,OACtC,CAAC5G,IA4BJ,OACI,6BACI,kBAAC,EAAD,CACIuF,UAAWA,EACXC,QAASA,EACTF,aAAcA,EACdD,aAvBS,WACjBtC,EAAY,GAEZ2D,GAAW,GACXpB,EAAa,eAAIC,EAAL,CAAgBU,OAAQ,EAAGW,KAAK,KAC5CpC,GAAY,GACZpB,IAAMC,IAAI,mEAAoE,CAC1EC,mBAAoB,SAAAC,GAAC,OAAIR,EAAYQ,EAAEC,OAAS,QAE/CC,MAAK,SAAAC,GACFZ,EAAW/C,EAAiB2D,EAAIC,UACjCC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAaxB4B,SAAUA,EAAUjB,YAAaA,EACjCC,KAAMA,IAEV,yBAAKtC,UAAU,gBACf,kBAAC,EAAD,CAAgBnC,QAASA,EAAS8C,WAjClB,SAACxC,GACrBgF,EAAa,eAAIC,EAAL,CAAgBU,OAAQV,EAAUU,OAAS,KACvDnD,EAAWxC,IA+BwDyC,YAAaA,IAC5E,kBAAC,EAAD,CAAawB,KAAMkB,EAAUjB,YAAaA,EAAaxE,QAASwG,EAAa/B,KAAMA,OClEzFoC,EAAQ,CACV,CAAC5G,MAAO,QAAS6G,MAAO,EAAGC,MAAO,GAClC,CAAC9G,MAAO,uBAAqB6G,MAAO,EAAGC,MAAO,GAC9C,CAAC9G,MAAO,UAAW6G,MAAO,EAAGC,MAAO,GACpC,CAAC9G,MAAO,WAAY6G,MAAO,EAAGC,MAAO,GACrC,CAAC9G,MAAO,WAAY6G,MAAO,EAAGC,MAAO,GACrC,CAAC9G,MAAO,gBAAiB6G,MAAO,EAAGC,MAAO,GAC1C,CAAC9G,MAAO,QAAS6G,MAAO,EAAGC,MAAO,GAClC,CAAC9G,MAAO,gBAAiB6G,MAAO,EAAGC,MAAO,GAC1C,CAAC9G,MAAO,gBAAiB6G,MAAO,EAAGC,MAAO,GAC1C,CAAC9G,MAAO,YAAa6G,MAAO,EAAGC,MAAO,IAuF3BC,EAnFuB,SAAC,GAA6C,EAA5CvC,KAA6C,IAAvCwC,EAAsC,EAAtCA,QAAS3B,EAA6B,EAA7BA,aAAcC,EAAe,EAAfA,UAAe,EAMtD9C,mBAAkB,IANoC,mBAMzEsE,EANyE,KAMlEG,EANkE,KAShFtE,qBAAU,WAEN,GADoBuE,aAAaC,QAAQ,SAIlC,CACH,IAAIC,EAAWC,KAAKC,MAAMJ,aAAaC,QAAQ,UAC3CC,EAASxG,OAASgG,EAAMhG,SACxBwG,EAAUR,EAAMpG,KAAI,SAAA+G,GAChB,IAAMC,EAAIJ,EAASK,MAAK,SAACC,GAAD,OAAcA,EAAG1H,QAAUuH,EAAEvH,SACrD,OAAO,eACAuH,EADP,CAEIT,MAAOU,EAAIA,EAAEV,MAAQ,QAKjCG,EAASG,QAdTF,aAAaS,QAAQ,QAASN,KAAKO,UAAUhB,IAC7CK,EAASL,KAef,CAACtB,EAAUuC,UAcb,OACI,6BACI,yBAAK3F,UAAU,4BACX,0BAAMA,UAAU,wBAAhB,gBAEJ,yBAAKA,UAAU,mCACX,0BAAMA,UAAU,sCACZ,yBAAKA,UAAU,aAAagC,IAAKC,IAAMF,OAAQ,GAAID,MAAO,GAAII,IAAI,sBAEtE,4CACC0C,EAAMtG,KAAI,SAAAyF,GAAI,OACX,yBACIE,IAAKF,EAAKjG,MACVkC,UAAU,uDACVF,QAAS,kBArBzBgF,EAqB2Cf,QApB3CZ,EAAayC,KAqBI7B,EAAKjG,MAJV,IAIkBiG,EAAKa,MAAQ,kCAAO,uBAAG5E,UAAU,sCAApB,IAA2D+D,EAAKa,MAAhE,YAAuF,QAI9H,yBAAK5E,UAAU,mCACX,kDACA,wBAAIA,UAAU,SACV,4BAAI,uBAAGA,UAAU,eAAjB,+BACA,4BAAI,uBAAGA,UAAU,kBAAjB,mDACA,4BAAI,uBAAGA,UAAU,iBAAjB,YACA,4BAAI,uBAAGA,UAAU,wBAAjB,4EAGR,yBAAKA,UAAU,mCACX,6DACA,wBAAIA,UAAU,kBACV,wBACIA,UAAU,SACVF,QAAS4C,GACZ,uBAAG1C,UAAU,gBAHd,2CCrDL6F,EA7CiB,SAAC,GAAqC,IAApCvD,EAAmC,EAAnCA,KAAMa,EAA6B,EAA7BA,aAAcC,EAAe,EAAfA,UAAe,EAMvC9C,mBAAiB,IANsB,mBAMnDyE,GANmD,WASjEtE,qBAAU,WACNsE,EAASI,KAAKC,MAAMJ,aAAaC,QAAQ,aAC3C,CAAC7B,EAAUuC,UAkBb,OACI,yBAAK3F,UAAU,YACX,yBAAKA,UAAU,uDACX,yCACA,4BACI,mCAAKsC,QAAL,IAAKA,OAAL,EAAKA,EAAMxE,MAAX,cACA,4BAAKsF,EAAUU,OAAf,+BAEJ,yBAAKhE,QApBG,WAChB,IAAM8E,EAAQO,KAAKC,MAAMJ,aAAaC,QAAQ,UAC9CD,aAAaS,QAAQ,QAASN,KAAKO,UAC/Bd,EAAMtG,KAAI,SAAC+G,GAAD,OAAaA,EAAEvH,SAAF,OAAYwE,QAAZ,IAAYA,OAAZ,EAAYA,EAAMxE,OAAlB,eACduH,EADc,CACXT,MAAOxB,EAAUU,SAAUuB,OAE3ClC,EAAagB,IAcsBnE,UAAU,+BAArC,qCCfD8F,EAzBiC,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAoB9C,OACI,yBAAK/F,UAAU,oBAAoBuC,MAXf,CACpBxB,IAAK,EACLgB,OAAO,EACPD,MAAM,GAAD,OAAgB,IAAXiE,EAAL,KACLC,WAAY,sBCIPJ,EAAa,CAACD,SAAS,EAAM7B,OAAQ,EAAGW,KAAK,GAC7CN,EAAc,CAACwB,SAAS,EAAO7B,OAAQ,EAAGW,KAAK,GA+C7CwB,EA7CH,WAAO,IAAD,EAEU3F,mBAAsB,MAFhC,mBAEPgC,EAFO,KAEDwC,EAFC,OAGoBxE,mBAAoB,CAACqF,SAAS,EAAO7B,OAAQ,EAAGW,KAAK,IAHzE,mBAGPrB,EAHO,KAGID,EAHJ,OAIkB7C,mBAAS,GAJ3B,mBAIPyF,EAJO,KAIGnF,EAJH,KAkBd,OAZAH,qBAAU,WAEN,IAAMyF,EAA6B,SAACC,GAChCA,EAAEC,iBACFD,EAAEE,YAAc,IAKpB,OAFAxF,OAAOyF,iBAAiB,eAAgBJ,GAEjC,kBAAMrF,OAAO0F,oBAAoB,eAAgBL,MACzD,IAGC,yBAAKlG,UAAU,mBACX,kBAAC,EAAD,CAAa+F,SAAUA,IACtB3C,EAAUqB,KACP,kBAAC,EAAD,CACInC,KAAMA,EAAMc,UAAWA,EACvBD,aAAcA,IAGtB,6BACKC,EAAUuC,QACP,kBAAC,EAAD,CACIrD,KAAMA,EAAMc,UAAWA,EACvBD,aAAcA,EACdvC,YAAaA,IAEjB,kBAAC,EAAD,CACI0B,KAAMA,EAAMwC,QAASA,EACrB1B,UAAWA,EAAWD,aAAcA,OCnDtDqD,EAAcC,QACW,cAA7B5F,OAAO6F,SAASC,UAEe,UAA7B9F,OAAO6F,SAASC,UAEhB9F,OAAO6F,SAASC,SAASC,MACvB,2DA8CN,SAASC,EAAgBC,EAAeC,GACtCpE,UAAUqE,cACPC,SAASH,GACTxF,MAAK,SAAA4F,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACf5E,UAAUqE,cAAcQ,YAI1B7F,QAAQC,IACN,iHAKEmF,GAAUA,EAAOU,UACnBV,EAAOU,SAASP,KAMlBvF,QAAQC,IAAI,sCAGRmF,GAAUA,EAAOW,WACnBX,EAAOW,UAAUR,WAO5BzF,OAAM,SAAAqB,GACLnB,QAAQmB,MAAM,4CAA6CA,M,YCjGjE6E,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFhJ,SAASiJ,eAAe,SDgBnB,SAAkBf,GACvB,GAA6C,kBAAmBpE,UAAW,CAMzE,GAJkB,IAAIoF,IACpBC,eACAnH,OAAO6F,SAASjH,MAEJwI,SAAWpH,OAAO6F,SAASuB,OAIvC,OAGFpH,OAAOyF,iBAAiB,QAAQ,WAC9B,IAAMQ,EAAK,UAAMkB,eAAN,sBAEPxB,IAgEV,SAAiCM,EAAeC,GAE9CmB,MAAMpB,EAAO,CACXqB,QAAS,CAAE,iBAAkB,YAE5B7G,MAAK,SAAA8G,GAEJ,IAAMC,EAAcD,EAASD,QAAQjH,IAAI,gBAEnB,MAApBkH,EAASE,QACO,MAAfD,IAA8D,IAAvCA,EAAYE,QAAQ,cAG5C5F,UAAUqE,cAAcwB,MAAMlH,MAAK,SAAA4F,GACjCA,EAAauB,aAAanH,MAAK,WAC7BT,OAAO6F,SAASgC,eAKpB7B,EAAgBC,EAAOC,MAG1BtF,OAAM,WACLE,QAAQC,IACN,oEAvFA+G,CAAwB7B,EAAOC,GAI/BpE,UAAUqE,cAAcwB,MAAMlH,MAAK,WACjCK,QAAQC,IACN,iHAMJiF,EAAgBC,EAAOC,OCzC/BC,I,kBCjBA4B,EAAOC,QAAU,IAA0B,8C","file":"static/js/main.bf6630fc.chunk.js","sourcesContent":["import React from \"react\";\nimport {Section} from \"../../App\";\n\nconst html2json = require('html2json').html2json;\n\nexport type HtmlNode = {\n    node: \"element\" | \"text\",\n    tag: \"p\" | \"a\" | \"text\" | \"figure\" | \"ul\" | \"li\" |\n        \"table\" | \"td\" | \"tr\" | \"tbody\" | \"th\" |\n        \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"style\",\n    text: string,\n    child: HtmlNode[],\n    link?: string,\n    attr?: {href: string}\n}\n\nexport const article2sections = (article: any) : Section[] => {\n    return [\n        {\n            title: article.lead.normalizedtitle,\n            content: parse_section(article.lead.sections[0].text)\n        },\n        ...article.remaining.sections\n            .map((section: any) => ({\n                title: section.line,\n                content: parse_section(section.text)\n            }))\n            .filter((section: Section) => section.content.length)\n    ]\n}\n\nexport const parse_section = (art : string) => {\n    let html = document.createElement(\"div\");\n    html.innerHTML = art;\n    return html2json(html.innerHTML)\n        .child\n        .flat()\n        .filter((elem : any) => elem.text ? !elem.text.includes(\"\\n\") : true)\n        .map((part:HtmlNode) => parse_node(part))\n        .flat();\n}\n\nexport const parse_node = (node: HtmlNode): HtmlNode[] => {\n    if (!node) return [];\n    if (node.child) node.child = node.child.filter((elem : any) => elem.text ? !elem.text.includes(\"\\n\") : true);\n    if (node.node === \"text\") return [{...node, tag: \"text\"}];\n\n    switch (node.tag) {\n        case \"a\":\n            if (!node.attr?.href.startsWith(\"/wiki\") ||\n                node.attr?.href.startsWith(\"/wiki/Datei\") ||\n                node.attr?.href.startsWith(\"/wiki/Special:\")\n            ) return [{...node, tag: \"text\", node: \"text\"}];\n            if (!node.child[0].text) return [];\n            return [{\n                tag: \"a\",\n                node: \"element\",\n                text: node.child[0].text,\n                child: [],\n                link: node.attr?.href.substr(6)\n            }]\n        case \"figure\":\n            return [];\n\n        case \"h1\":\n        case \"h2\":\n        case \"h3\":\n        case \"h4\":\n        case \"ul\":\n        case \"li\":\n        case \"td\":\n        case \"tr\":\n        case \"th\":\n            return [{\n                ...node,\n                child: node.child ? node.child.map(ch => parse_node(ch)).flat() : []\n            }];\n        case \"table\":\n            return [{\n                ...node,\n                child: parse_node(node.child[0])\n            }];\n        //Special case error handling\n        case \"style\":\n            return [];\n        default:\n            return node.child ? node.child.map(ch => parse_node(ch)).flat() : [];\n    }\n};\n\nexport const createElement = (node: HtmlNode, onClick: (link: string | undefined) => void, disabled : boolean = false) => {\n    switch (node.tag) {\n        case \"a\":\n            if (!node.link) return <span dangerouslySetInnerHTML={{__html: node.text}}/>\n            if (disabled) return <span className=\"w3-large\" dangerouslySetInnerHTML={{__html: node.text}}/>\n            return (\n                <button\n                    className=\"w3-btn-small w3-border w3-border-green w3-round w3-small\"\n                    onClick={() => onClick(node.link)}>\n                    <span dangerouslySetInnerHTML={{__html: node.text}}/>\n                </button>\n            );\n        case \"text\":\n            return <span dangerouslySetInnerHTML={{__html: node.text}}/>;\n        case \"ul\":\n            return (\n                <ul className=\"\">\n                    {node.child.filter(c => c.child.length).map(child => createElement(child, onClick, disabled))}\n                </ul>\n            );\n        case \"h1\":\n        case \"h2\":\n        case \"h3\":\n        case \"h4\":\n        case \"li\":\n        case \"td\":\n        case \"tr\":\n        case \"th\":\n        case \"tbody\":\n            if (!node.child.length) return [];\n            return (\n                <node.tag>\n                    {node.child.map(child => createElement(child, onClick, disabled))}\n                </node.tag>\n            );\n        case \"table\":\n            return (\n                <div className=\"w3-responsive\">\n                    <table className=\"w3-table-all\">\n                        {node.child.map(child => createElement(child, onClick, disabled))}\n                    </table>\n                </div>\n            )\n    }\n};","import React, {useEffect, useState} from 'react';\nimport {Section} from \"../../../components/App\";\nimport {createElement} from \"../../../components/play/displayarticle/Parsers\";\nimport \"./SectionAccordion.css\"\nimport {useSpring} from \"react-spring\";\n\n\ntype SectionProps = {\n    section: Section,\n    loadNew: (link: string|undefined) => void,\n    disabled?: boolean,\n}\n\n\nconst SectionAccordion: React.FC<SectionProps> = ({section,loadNew, disabled= false}) => {\n\n    /***************\n     * HOOKS\n     ***************/\n\n    const [expand, setExpand] = useState<boolean>(false);\n\n    useEffect(() => {setExpand(false)}, [section]);\n\n    /***************\n     * FUNCTIONS\n     ***************/\n\n    /***************\n     * RENDERING\n     ***************/\n    return (\n        <div className=\"section\">\n            <div\n                className=\"w3-button section-header w3-border w3-margin-top\"\n                onClick={() => setExpand(!expand)}>\n                <span dangerouslySetInnerHTML={{__html: section.title}}/>\n            </div>\n            {expand &&\n                <div>\n                    {section.content.map(node =>\n                        <span>\n                            {createElement(node, loadNew, disabled)}\n                        </span>\n                    )}\n                </div>\n            }\n        </div>\n    )\n};\n\nexport default SectionAccordion;\n","import React, {useEffect} from 'react';\nimport {Section} from \"../../App\";\nimport {article2sections, createElement, parse_section} from \"./Parsers\";\nimport axios from \"axios\";\nimport SectionAccordion from \"../../../assets/components/section/SectionAccordion\";\nimport logo from \"../../../assets/img/logo-noback-256.png\";\nimport \"./DisplayArticle.css\";\ntype DisplayArticleProps = {\n    article: Section[],\n    setArticle: (sections: Section[]) => void,\n    setProgress: (progress: number) => void\n}\n\nconst DisplayArticle: React.FC<DisplayArticleProps> = ({article, setArticle, setProgress}) => {\n\n    /***************\n     * HOOKS\n     ***************/\n\n    useEffect(() => {\n        setProgress(1);\n        window.scrollTo({\n            top: 0,\n            left: 0,\n        });\n    }, [article]);\n\n    /***************\n     * FUNCTIONS\n     ***************/\n    const loadNew = (link: string|undefined) => {\n        setProgress(0);\n        window.scrollTo({\n            top: 0,\n            left: 0,\n        });\n        axios.get(\"https://de.wikipedia.org/api/rest_v1/page/mobile-sections/\" + link, {\n            onDownloadProgress: p => setProgress(p.loaded / 100000)\n        })\n            .then(res =>{\n                setArticle(article2sections(res.data));\n            }).catch(err => console.log(err))\n    };\n    /***************\n     * RENDERING\n     ***************/\n\n    if (!article.length) return (\n        <div className=\"load-logo-container\">\n            <img className=\"w3-image w3-opacity\" width={150} height={150} src={logo} alt=\"Wikiplaydia Logo\"/>\n        </div>\n    );\n\n    return (\n        <div>\n            <div>\n                <h1>{article[0].title}</h1>\n                {article[0].content.map(node =>\n                    <span>\n                        {createElement(node, loadNew)}\n                    </span>\n                )}\n            </div>\n            {article.slice(1).map(section =>\n                <SectionAccordion loadNew={loadNew} section={section}/>\n            )}\n        </div>\n    )\n};\n\nexport default DisplayArticle;\n","import React from 'react';\nimport {Goal, Section} from \"../../App\";\nimport {createElement} from \"../displayarticle/Parsers\";\nimport SectionAccordion from \"../../../assets/components/section/SectionAccordion\";\n\ntype CurrentGoalProps = {\n    show: boolean,\n    setShowGoal: (show: boolean) => void,\n    article: Section[],\n    goal: Goal | null,\n}\n\nconst CurrentGoal: React.FC<CurrentGoalProps> = ({show, setShowGoal, article, goal}) => {\n\n    /***************\n     * HOOKS\n     ***************/\n\n    /***************\n     * FUNCTIONS\n     ***************/\n\n    /***************\n     * RENDERING\n     ***************/\n\n    if (!goal ||!article.length) return null;\n\n    if (!show) return null;\n\n    return (\n        <div className=\"w3-modal\">\n            <div className=\"w3-modal-content w3-container w3-round w3-animate-opacity\">\n                <div\n                    onClick={() => setShowGoal(false)}\n                    className=\"w3-red w3-button w3-round w3-card\"\n                    style={{position: \"fixed\", top: 20, right: 20}}>\n                    Schließen <i className=\"fas fa-window-close\"/>\n                </div>\n                <div>\n                    <h1>\n                        {article[0].title}\n                    </h1>\n                    {article[0].content.map(node =>\n                        <span>\n                            {createElement(node, () => {}, true)}\n                        </span>\n                    )}\n                    </div>\n                    {article.slice(1).map(section =>\n                        <SectionAccordion loadNew={() => {}} section={section} disabled={true}/>\n                    )}\n                </div>\n        </div>\n    )\n};\n\nexport default CurrentGoal;\n","import React, {useState} from 'react';\nimport {beforeGame, GameState, Goal} from \"../../App\";\nimport \"./ButtonBar.css\";\nimport {useTransition, animated} from \"react-spring\";\nimport logo from \"../../../assets/img/logo-noback-256.png\";\n\ntype ButtonBarProps = {\n    startNewGame: () => void,\n    setGameState: (state: GameState) => void,\n    goal: Goal | null,\n    gameState: GameState,\n    newGame: boolean,\n    showGoal: boolean,\n    setShowGoal: (show: boolean) => void,\n}\n\nexport const shareApp = () => {\n    // @ts-ignore\n    if (navigator.share) {\n        // @ts-ignore\n        navigator.share({\n            title: 'Wikiplaydia',\n            text: \"Guck dir mal dieses Spiel an.\",\n            url: 'https://beneluwi.github.io/wikiplaydia/',\n        })\n            .then(() => console.log('Successful share'))\n            .catch((error: any) => console.log('Error sharing', error));\n    } else {\n        navigator.clipboard.writeText(\"https://beneluwi.github.io/wikiplaydia/\");\n    }\n};\n\nconst ButtonBar: React.FC<ButtonBarProps> = ({startNewGame, setGameState, gameState, newGame, showGoal, setShowGoal, goal}) => {\n\n    /***************\n     * HOOKS\n     ***************/\n\n    const [showBar, setShowBar] = useState<boolean>(false);\n\n    const transitions = useTransition(showBar, null, {\n        from: { height: 0, width: 200},\n        enter: { height: 200},\n        leave: { height: 0 },\n    });\n\n\n    /***************\n     * FUNCTIONS\n     ***************/\n\n    /***************\n     * RENDERING\n     ***************/\n    return (\n        <div>\n            <div className=\"w3-bar wikiplaydia-green\">\n                <button\n                    className=\"w3-button w3-bar-item\"\n                    onClick={() => setShowBar(!showBar)}>\n                    <i className=\"fa fa-ellipsis-h\"/>\n                </button>\n                <span\n                    onClick={shareApp}\n                    className=\"w3-bar-item w3-right\">\n                    Wikiplaydia\n                </span>\n                <button\n                    className=\"w3-bar-item w3-button\"\n                    onClick={() => setShowGoal(!showGoal)}>\n                    <i className=\"fa fa-info-circle\"/> {goal?.title}\n                </button>\n                {!newGame &&\n                    <span\n                        className=\"w3-bar-item\">\n                            Klicks: {gameState.clicks}\n                    </span>\n                }\n            </div>\n\n            {transitions.map(({ item, key, props }) =>\n                item &&\n                    <animated.div className=\"wikiplaydia-green sidebar\" style={props}>\n                        {!newGame &&\n                        <button\n                            onClick={() => {startNewGame(); setShowBar(!showBar);}}\n                            className=\"w3-bar-item w3-button\">\n                            <i className=\"fa fa-redo\"/>&nbsp;Neustarten\n                        </button>\n                        }\n                        <button\n                            className=\"w3-bar-item w3-button\"\n                            onClick={() => {setGameState(beforeGame); setShowBar(!showBar);}}>\n                            <i className=\"fa fa-window-close\"/>&nbsp;Zur Übersicht\n                        </button>\n                        <button\n                            className=\"w3-bar-item w3-button\"\n                            onClick={shareApp}>\n                            <i className=\"fa fa-share\"/>&nbsp;App teilen\n                        </button>\n                    </animated.div>\n            )}\n\n            {newGame &&\n            <button\n                className=\"letsgo-button w3-button w3-xlarge w3-round w3-card-4 w3-blue\"\n                onClick={startNewGame}>\n                Starten! <i className=\"fa fa-arrow-circle-right\"/>\n            </button>}\n        </div>\n    )\n};\n\nexport default ButtonBar;\n","import React, {useState, useEffect} from 'react';\nimport {beforeGame, GameState, Goal, Section} from \"../App\";\nimport DisplayArticle from \"./displayarticle/DisplayArticle\";\nimport axios from \"axios\";\nimport {article2sections} from \"./displayarticle/Parsers\";\nimport CurrentGoal from \"./currentgoal/CurrentGoal\";\nimport ButtonBar from \"./buttonbar/ButtonBar\";\n\ntype PlayProps = {\n    goal: Goal | null,\n    gameState: GameState,\n    setGameState: (state: GameState) => void,\n    setProgress: (progress: number) => void\n}\n\nconst Play: React.FC<PlayProps> = ({goal, setGameState, gameState,setProgress}) => {\n\n    /***************\n     * HOOKS\n     ***************/\n\n    const [article, setArticle] = useState<Section[]>([]);\n    const [goalArticle, setGoalArticle] = useState<Section[]>([]);\n    const [showGoal, setShowGoal] = useState(false);\n    const [newGame, setNewGame] = useState(true);\n\n    useEffect(() => {\n        setProgress(1);\n    }, [goalArticle]);\n\n    // Effect to load the goal article\n    useEffect(() => {\n        setProgress(0);\n        axios.get(\"https://de.wikipedia.org/api/rest_v1/page/mobile-sections/\" + goal?.title.replace(\" \", \"_\"), {\n            onDownloadProgress: p => setProgress(p.loaded / 100000)\n        })\n            .then(res =>{\n                setGoalArticle(article2sections(res.data))\n            }).catch(err => console.log(err))\n        setShowGoal(true);\n    }, [goal])\n\n    // Check for win after new Article is loaded\n    useEffect(() => {\n        if (article.length && article[0].title === goal?.title)\n            setGameState({...gameState, win: true})\n    }, [article]);\n\n    /***************\n     * FUNCTIONS\n     ***************/\n\n    const loadNextArticle = (sections: Section[]) => {\n        setGameState({...gameState, clicks: gameState.clicks + 1})\n        setArticle(sections);\n    }\n\n    const startNewGame = () => {\n        setProgress(0);\n\n        setNewGame(false);\n        setGameState({...gameState, clicks: 0, win: false});\n        setShowGoal(false);\n        axios.get(\"https://de.wikipedia.org/api/rest_v1/page/random/mobile-sections\", {\n            onDownloadProgress: p => setProgress(p.loaded / 100000)\n        })\n            .then(res =>{\n                setArticle(article2sections(res.data))\n            }).catch(err => console.log(err))\n    }\n\n    /***************\n     * RENDERING\n     ***************/\n    return (\n        <div>\n            <ButtonBar\n                gameState={gameState}\n                newGame={newGame}\n                setGameState={setGameState}\n                startNewGame={startNewGame}\n                showGoal={showGoal} setShowGoal={setShowGoal}\n                goal={goal}\n            />\n            <div className=\"w3-container\">\n            <DisplayArticle article={article} setArticle={loadNextArticle} setProgress={setProgress}/>\n            <CurrentGoal show={showGoal} setShowGoal={setShowGoal} article={goalArticle} goal={goal}/>\n            </div>\n        </div>\n    )\n};\n\nexport default Play;\n","import React, {useEffect, useState} from 'react';\nimport {GameState, Goal, startGame} from \"../App\";\nimport cl from \"classnames\";\nimport {Trail} from \"react-spring/renderprops-universal\";\nimport logo from \"../../assets/img/logo-noback-256.png\";\nimport {shareApp} from \"../play/buttonbar/ButtonBar\";\n\ntype SelectProps = {\n    goal: Goal | null,\n    setGoal: (goal: Goal) => void,\n    gameState: GameState,\n    setGameState: (state: GameState) => void\n}\n\nexport type Score = {\n    title: string,\n    level: number,\n    score: number\n}\n\nconst goals = [\n    {title: \"Trier\", level: 1, score: 0},\n    {title: \"Universität Trier\", level: 2, score: 0},\n    {title: \"Erdnuss\", level: 3, score: 0},\n    {title: \"Auderath\", level: 3, score: 0},\n    {title: \"Bon Jovi\", level: 3, score: 0},\n    {title: \"Frank Sinatra\", level: 3, score: 0},\n    {title: \"Poker\", level: 3, score: 0},\n    {title: \"Dirty Dancing\", level: 3, score: 0},\n    {title: \"Gordon Ramsay\", level: 3, score: 0},\n    {title: \"Star Trek\", level: 3, score: 0},\n];\n\n\nconst Select: React.FC<SelectProps> = ({goal, setGoal, setGameState, gameState}) => {\n\n    /***************\n     * HOOKS\n     ***************/\n\n    const [score, setScore] = useState<Score[]>([]);\n\n    // Reload score from local storage and create a data set, if not yet created\n    useEffect(() => {\n        const scoreString = localStorage.getItem(\"score\");\n        if (!scoreString){\n            localStorage.setItem(\"score\", JSON.stringify(goals));\n            setScore(goals);\n        } else {\n            let newScore = JSON.parse(localStorage.getItem(\"score\") as string);\n            if (newScore.length < goals.length) {\n                newScore= goals.map(g => {\n                    const s = newScore.find((sc: Goal) => sc.title === g.title)\n                    return ({\n                        ...g,\n                        score: s ? s.score : 0,\n                    })\n                })\n            }\n\n            setScore(newScore);\n        }\n    },[gameState.playing]);\n\n    /***************\n     * FUNCTIONS\n     ***************/\n\n    const handleClick = (g: Goal) => {\n        setGoal(g);\n        setGameState(startGame);\n    };\n\n    /***************\n     * RENDERING\n     ***************/\n    return (\n        <div>\n            <div className=\"w3-bar wikiplaydia-green\">\n                <span className=\"w3-right w3-bar-item\">Wikiplaydia</span>\n            </div>\n            <div className=\"w3-container w3-animate-opacity\">\n                <span className=\"w3-bar-item w3-right w3-margin-top\">\n                    <img className=\"w3-opacity\" src={logo} height={40} width={40} alt=\"Wikiplaydia logo\"/>\n                </span>\n                <h2>Levelauswahl</h2>\n                {score.map(item =>\n                    <div\n                        key={item.title}\n                        className=\" w3-btn w3-round w3-border w3-border-green w3-margin\"\n                        onClick={() => handleClick(item)}>\n                        {item.title} {item.score ? <span> <i className=\"far fa-check-circle w3-text-green\"/> {item.score} Klicks </span>: \"\"}\n                    </div>\n                )}\n            </div>\n            <div className=\"w3-container w3-animate-opacity\">\n                <h2>Wie funktionierts?</h2>\n                <ul className=\"w3-ul\">\n                    <li><i className=\"fa fa-list\"/> Level/Artikel auswählen</li>\n                    <li><i className=\"fa fa-glasses\"/> Kurz überfliegen und wichtige Punkte merken</li>\n                    <li><i className=\"fa fa-rocket\"/> Starten</li>\n                    <li><i className=\"far fa-check-circle\"/> Den Zielartikel über die Verlinkungen in den neuen Artikeln finden</li>\n                </ul>\n            </div>\n            <div className=\"w3-container w3-animate-opacity\">\n                <h2>App teilen / Freunde einladen</h2>\n                <ul className=\"w3-ul w3-large\">\n                    <li\n                        className=\"w3-btn\"\n                        onClick={shareApp}\n                    ><i className=\"fa fa-share\"/> Hier klicken, um die App zu teilen</li>\n                </ul>\n            </div>\n        </div>\n    )\n};\n\nexport default Select;\n","import React, {useEffect, useState} from 'react';\nimport {beforeGame, GameState, Goal} from \"../App\";\n\ntype WinProps = {\n    goal: Goal | null,\n    gameState: GameState,\n    setGameState: (state: GameState) => void\n}\n\nconst Win: React.FC<WinProps> = ({goal, setGameState, gameState}) => {\n\n    /***************\n     * HOOKS\n     ***************/\n\n    const [score, setScore] = useState<Goal[]>([]);\n\n    // Reload score from local storage and create a data set, if not yet created\n    useEffect(() => {\n        setScore(JSON.parse(localStorage.getItem(\"score\") as string));\n    },[gameState.playing]);\n\n    /***************\n     * FUNCTIONS\n     ***************/\n\n    const handleClick = () => {\n        const score = JSON.parse(localStorage.getItem(\"score\") as string);\n        localStorage.setItem(\"score\", JSON.stringify(\n            score.map((g: Goal) => g.title === goal?.title ?\n                ({...g, score: gameState.clicks}): g)\n        ));\n        setGameState(beforeGame);\n    }\n\n    /***************\n     * RENDERING\n     ***************/\n    return (\n        <div className=\"w3-modal\">\n            <div className=\"w3-modal-content w3-round w3-padding w3-animate-top\">\n                <h1>Gewonnen!</h1>\n                <ul>\n                    <li>{goal?.title} gefunden!</li>\n                    <li>{gameState.clicks} Klicks wurden benötigt</li>\n                </ul>\n                <div onClick={handleClick} className=\"w3-button wikiplaydia-green\">\n                    Speichern und zur Übersicht\n                </div>\n            </div>\n        </div>\n    )\n};\n\nexport default Win;\n","import React from 'react';\n\ntype ProgressBarProps = {\n    progress: number\n}\n\nconst ProgressBar: React.FC<ProgressBarProps> = ({progress}) => {\n\n    /***************\n     * HOOKS\n     ***************/\n\n    /***************\n     * FUNCTIONS\n     ***************/\n\n    const getStyle = () => ({\n        top: 0,\n        height:5,\n        width: `${progress * 100}%`,\n        transition: \"ease-in-out .4s\",\n    });\n\n    /***************\n     * RENDERING\n     ***************/\n    return (\n        <div className=\"wikiplaydia-green\" style={getStyle()}/>\n    )\n};\n\nexport default ProgressBar;\n","import React, {useEffect, useState} from 'react';\nimport './App.css';\nimport {HtmlNode} from \"./play/displayarticle/Parsers\";\nimport Play from \"./play/Play\";\nimport Select from \"./select/Select\";\nimport Win from \"./win/Win\";\nimport ProgressBar from \"../assets/components/progressbar/ProgressBar\";\n\nexport type Section = {\n    title: string,\n    content: HtmlNode[]\n}\n\nexport type Goal = {\n    title: string,\n    level: number\n}\n\nexport type GameState = {\n    playing: boolean,\n    clicks: number,\n    win: boolean\n}\n\nexport const startGame =  {playing: true, clicks: 0, win: false}\nexport const beforeGame =  {playing: false, clicks: 0, win: false}\n\nconst App = () => {\n\n    const [goal, setGoal] = useState<Goal | null>(null);\n    const [gameState, setGameState] = useState<GameState>({playing: false, clicks: 0, win: false})\n    const [progress, setProgress] = useState(1);\n\n    useEffect(() => {\n\n        const onBeforeUnloadEventHandler = (e: any) => {\n            e.preventDefault();\n            e.returnValue = '';\n        };\n\n        window.addEventListener(\"beforeunload\", onBeforeUnloadEventHandler);\n\n        return () => window.removeEventListener(\"beforeunload\", onBeforeUnloadEventHandler);\n    }, []);\n\n    return(\n        <div className=\"w3-card wrapper\">\n            <ProgressBar progress={progress}/>\n            {gameState.win &&\n                <Win\n                    goal={goal} gameState={gameState}\n                    setGameState={setGameState}\n                />\n            }\n            <div>\n                {gameState.playing ?\n                    <Play\n                        goal={goal} gameState={gameState}\n                        setGameState={setGameState}\n                        setProgress={setProgress}\n                    /> :\n                    <Select\n                        goal={goal} setGoal={setGoal}\n                        gameState={gameState} setGameState={setGameState}\n                    />\n                }\n            </div>\n        </div>\n    )\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport \"./assets/css/w3css.css\";\nimport \"./assets/css/all.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","module.exports = __webpack_public_path__ + \"static/media/logo-noback-256.8f258b77.png\";"],"sourceRoot":""}