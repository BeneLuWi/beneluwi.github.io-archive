{"version":3,"sources":["components/play/displayarticle/Parsers.tsx","assets/components/section/SectionAccordion.tsx","components/play/displayarticle/DisplayArticle.tsx","components/play/currentgoal/CurrentGoal.tsx","components/play/buttonbar/ButtonBar.tsx","components/play/Play.tsx","components/select/Select.tsx","components/win/Win.tsx","assets/components/progressbar/ProgressBar.tsx","components/App.tsx","serviceWorker.ts","index.tsx"],"names":["html2json","require","article2sections","article","title","lead","normalizedtitle","content","parse_section","sections","text","remaining","map","section","line","filter","length","art","html","document","createElement","innerHTML","child","flat","elem","includes","part","parse_node","node","tag","attr","href","startsWith","link","substr","ch","onClick","disabled","className","dangerouslySetInnerHTML","__html","c","SectionAccordion","loadNew","useState","expand","setExpand","DisplayArticle","setArticle","setProgress","useEffect","window","scrollTo","top","left","axios","get","onDownloadProgress","p","loaded","then","res","data","catch","err","console","log","slice","CurrentGoal","show","setShowGoal","goal","style","position","right","ButtonBar","startNewGame","setGameState","gameState","newGame","showGoal","showBar","setShowBar","transitions","useTransition","from","height","enter","leave","clicks","item","props","key","div","beforeGame","Play","goalArticle","setGoalArticle","setNewGame","replace","win","goals","level","score","Select","setGoal","setScore","localStorage","getItem","newScore","JSON","parse","g","s","find","sc","setItem","stringify","playing","startGame","Win","ProgressBar","progress","width","transition","App","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","ReactDOM","render","StrictMode","getElementById","URL","process","origin","addEventListener","fetch","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.65ac4761.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Section} from \"../../App\";\r\n\r\nconst html2json = require('html2json').html2json;\r\n\r\nexport type HtmlNode = {\r\n    node: \"element\" | \"text\",\r\n    tag: \"p\" | \"a\" | \"text\" | \"figure\" | \"ul\" | \"li\" |\r\n        \"table\" | \"td\" | \"tr\" | \"tbody\" | \"th\" |\r\n        \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"style\",\r\n    text: string,\r\n    child: HtmlNode[],\r\n    link?: string,\r\n    attr?: {href: string}\r\n}\r\n\r\nexport const article2sections = (article: any) : Section[] => {\r\n    return [\r\n        {\r\n            title: article.lead.normalizedtitle,\r\n            content: parse_section(article.lead.sections[0].text)\r\n        },\r\n        ...article.remaining.sections\r\n            .map((section: any) => ({\r\n                title: section.line,\r\n                content: parse_section(section.text)\r\n            }))\r\n            .filter((section: Section) => section.content.length)\r\n    ]\r\n}\r\n\r\nexport const parse_section = (art : string) => {\r\n    let html = document.createElement(\"div\");\r\n    html.innerHTML = art;\r\n    return html2json(html.innerHTML)\r\n        .child\r\n        .flat()\r\n        .filter((elem : any) => elem.text ? !elem.text.includes(\"\\n\") : true)\r\n        .map((part:HtmlNode) => parse_node(part))\r\n        .flat();\r\n}\r\n\r\nexport const parse_node = (node: HtmlNode): HtmlNode[] => {\r\n    if (!node) return [];\r\n    if (node.child) node.child = node.child.filter((elem : any) => elem.text ? !elem.text.includes(\"\\n\") : true);\r\n    if (node.node === \"text\") return [{...node, tag: \"text\"}];\r\n\r\n    switch (node.tag) {\r\n        case \"a\":\r\n            if (!node.attr?.href.startsWith(\"/wiki\") ||\r\n                node.attr?.href.startsWith(\"/wiki/Datei\") ||\r\n                node.attr?.href.startsWith(\"/wiki/Special:\")\r\n            ) return [{...node, tag: \"text\", node: \"text\"}];\r\n            if (!node.child[0].text) return [];\r\n            return [{\r\n                tag: \"a\",\r\n                node: \"element\",\r\n                text: node.child[0].text,\r\n                child: [],\r\n                link: node.attr?.href.substr(6)\r\n            }]\r\n        case \"figure\":\r\n            return [];\r\n\r\n        case \"h1\":\r\n        case \"h2\":\r\n        case \"h3\":\r\n        case \"h4\":\r\n        case \"ul\":\r\n        case \"li\":\r\n        case \"td\":\r\n        case \"tr\":\r\n        case \"th\":\r\n            return [{\r\n                ...node,\r\n                child: node.child ? node.child.map(ch => parse_node(ch)).flat() : []\r\n            }];\r\n        case \"table\":\r\n            return [{\r\n                ...node,\r\n                child: parse_node(node.child[0])\r\n            }];\r\n        //Special case error handling\r\n        case \"style\":\r\n            return [];\r\n        default:\r\n            return node.child ? node.child.map(ch => parse_node(ch)).flat() : [];\r\n    }\r\n};\r\n\r\nexport const createElement = (node: HtmlNode, onClick: (link: string | undefined) => void, disabled : boolean = false) => {\r\n    switch (node.tag) {\r\n        case \"a\":\r\n            if (!node.link) return <span dangerouslySetInnerHTML={{__html: node.text}}/>\r\n            if (disabled) return <span className=\"w3-large\" dangerouslySetInnerHTML={{__html: node.text}}/>\r\n            return (\r\n                <button\r\n                    className=\"w3-btn-small w3-border w3-border-green w3-round w3-small\"\r\n                    onClick={() => onClick(node.link)}>\r\n                    <span dangerouslySetInnerHTML={{__html: node.text}}/>\r\n                </button>\r\n            );\r\n        case \"text\":\r\n            return <span dangerouslySetInnerHTML={{__html: node.text}}/>;\r\n        case \"ul\":\r\n            return (\r\n                <ul className=\"\">\r\n                    {node.child.filter(c => c.child.length).map(child => createElement(child, onClick, disabled))}\r\n                </ul>\r\n            );\r\n        case \"h1\":\r\n        case \"h2\":\r\n        case \"h3\":\r\n        case \"h4\":\r\n        case \"li\":\r\n        case \"td\":\r\n        case \"tr\":\r\n        case \"th\":\r\n        case \"tbody\":\r\n            if (!node.child.length) return [];\r\n            return (\r\n                <node.tag>\r\n                    {node.child.map(child => createElement(child, onClick, disabled))}\r\n                </node.tag>\r\n            );\r\n        case \"table\":\r\n            return (\r\n                <div className=\"w3-responsive\">\r\n                    <table className=\"w3-table-all\">\r\n                        {node.child.map(child => createElement(child, onClick, disabled))}\r\n                    </table>\r\n                </div>\r\n            )\r\n    }\r\n};","import React, { useState} from 'react';\r\nimport {Section} from \"../../../components/App\";\r\nimport {createElement} from \"../../../components/play/displayarticle/Parsers\";\r\nimport \"./SectionAccordion.css\"\r\nimport {useSpring} from \"react-spring\";\r\n\r\n\r\ntype SectionProps = {\r\n    section: Section,\r\n    loadNew: (link: string|undefined) => void,\r\n    disabled?: boolean,\r\n}\r\n\r\n\r\nconst SectionAccordion: React.FC<SectionProps> = ({section,loadNew, disabled= false}) => {\r\n\r\n    /***************\r\n     * HOOKS\r\n     ***************/\r\n\r\n    const [expand, setExpand] = useState<boolean>(false);\r\n\r\n    /***************\r\n     * FUNCTIONS\r\n     ***************/\r\n\r\n    /***************\r\n     * RENDERING\r\n     ***************/\r\n    return (\r\n        <div className=\"section\">\r\n            <div\r\n                className=\"w3-button section-header w3-border w3-margin-top\"\r\n                onClick={() => setExpand(!expand)}>\r\n                <span dangerouslySetInnerHTML={{__html: section.title}}/>\r\n            </div>\r\n            {expand &&\r\n                <div>\r\n                    {section.content.map(node =>\r\n                        <span>\r\n                            {createElement(node, loadNew, disabled)}\r\n                        </span>\r\n                    )}\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SectionAccordion;\r\n","import React, {useEffect} from 'react';\r\nimport {Section} from \"../../App\";\r\nimport {article2sections, createElement, parse_section} from \"./Parsers\";\r\nimport axios from \"axios\";\r\nimport SectionAccordion from \"../../../assets/components/section/SectionAccordion\";\r\n\r\ntype DisplayArticleProps = {\r\n    article: Section[],\r\n    setArticle: (sections: Section[]) => void,\r\n    setProgress: (progress: number) => void\r\n}\r\n\r\nconst DisplayArticle: React.FC<DisplayArticleProps> = ({article, setArticle, setProgress}) => {\r\n\r\n    /***************\r\n     * HOOKS\r\n     ***************/\r\n\r\n    useEffect(() => {\r\n        setProgress(1);\r\n        window.scrollTo({\r\n            top: 0,\r\n            left: 0,\r\n        });\r\n    }, [article])\r\n\r\n    /***************\r\n     * FUNCTIONS\r\n     ***************/\r\n    const loadNew = (link: string|undefined) => {\r\n        setProgress(0);\r\n        axios.get(\"https://de.wikipedia.org/api/rest_v1/page/mobile-sections/\" + link, {\r\n            onDownloadProgress: p => setProgress(p.loaded / 100000)\r\n        })\r\n            .then(res =>{\r\n                setArticle(article2sections(res.data));\r\n            }).catch(err => console.log(err))\r\n    }\r\n    /***************\r\n     * RENDERING\r\n     ***************/\r\n\r\n    if (!article.length) return null;\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h1>{article[0].title}</h1>\r\n                {article[0].content.map(node =>\r\n                    <span>\r\n                        {createElement(node, loadNew)}\r\n                    </span>\r\n                )}\r\n            </div>\r\n            {article.slice(1).map(section =>\r\n                <SectionAccordion loadNew={loadNew} section={section}/>\r\n            )}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default DisplayArticle;\r\n","import React from 'react';\r\nimport {Goal, Section} from \"../../App\";\r\nimport {createElement} from \"../displayarticle/Parsers\";\r\nimport SectionAccordion from \"../../../assets/components/section/SectionAccordion\";\r\n\r\ntype CurrentGoalProps = {\r\n    show: boolean,\r\n    setShowGoal: (show: boolean) => void,\r\n    article: Section[],\r\n    goal: Goal | null,\r\n}\r\n\r\nconst CurrentGoal: React.FC<CurrentGoalProps> = ({show, setShowGoal, article, goal}) => {\r\n\r\n    /***************\r\n     * HOOKS\r\n     ***************/\r\n\r\n    /***************\r\n     * FUNCTIONS\r\n     ***************/\r\n\r\n    /***************\r\n     * RENDERING\r\n     ***************/\r\n\r\n    if (!goal ||!article.length) return null;\r\n\r\n    if (!show) return null;\r\n\r\n    return (\r\n        <div className=\"w3-modal\">\r\n            <div className=\"w3-modal-content w3-container\">\r\n                <div\r\n                    onClick={() => setShowGoal(false)}\r\n                    className=\"w3-red w3-button w3-round w3-card\"\r\n                    style={{position: \"fixed\", top: 20, right: 20}}>\r\n                    Schließen <i className=\"fas fa-window-close\"/>\r\n                </div>\r\n                <div>\r\n                    <h1>\r\n                        {article[0].title}\r\n                    </h1>\r\n                    {article[0].content.map(node =>\r\n                        <span>\r\n                            {createElement(node, () => {}, true)}\r\n                        </span>\r\n                    )}\r\n                    </div>\r\n                    {article.slice(1).map(section =>\r\n                        <SectionAccordion loadNew={() => {}} section={section} disabled={true}/>\r\n                    )}\r\n                </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default CurrentGoal;\r\n","import React, {useState} from 'react';\r\nimport {beforeGame, GameState, Goal} from \"../../App\";\r\nimport \"./ButtonBar.css\";\r\nimport {useTransition, animated} from \"react-spring\";\r\n\r\n\r\ntype ButtonBarProps = {\r\n    startNewGame: () => void,\r\n    setGameState: (state: GameState) => void,\r\n    goal: Goal | null,\r\n    gameState: GameState,\r\n    newGame: boolean,\r\n    showGoal: boolean,\r\n    setShowGoal: (show: boolean) => void,\r\n}\r\n\r\nconst ButtonBar: React.FC<ButtonBarProps> = ({startNewGame, setGameState, gameState, newGame, showGoal, setShowGoal, goal}) => {\r\n\r\n    /***************\r\n     * HOOKS\r\n     ***************/\r\n\r\n    const [showBar, setShowBar] = useState<boolean>(false);\r\n\r\n    const transitions = useTransition(showBar, null, {\r\n        from: { height: 0},\r\n        enter: { height: 200},\r\n        leave: { height: 0 },\r\n    })\r\n\r\n    /***************\r\n     * FUNCTIONS\r\n     ***************/\r\n\r\n    /***************\r\n     * RENDERING\r\n     ***************/\r\n    return (\r\n        <div>\r\n            <div className=\"w3-bar wikiplaydia-green\">\r\n                <button\r\n                    className=\"w3-button w3-bar-item\"\r\n                    onClick={() => setShowBar(!showBar)}>\r\n                    <i className=\"fa fa-bars\"/>\r\n                </button>\r\n                <span className=\"w3-bar-item w3-right\">\r\n                    WikiPlaydia\r\n                </span>\r\n                <button\r\n                    className=\"w3-bar-item w3-button\"\r\n                    onClick={() => setShowGoal(!showGoal)}>\r\n                    Aktuelles Ziel: {goal?.title}\r\n                </button>\r\n                {!newGame &&\r\n                    <span\r\n                        className=\"w3-bar-item\">\r\n                            Klicks: {gameState.clicks}\r\n                    </span>\r\n                }\r\n            </div>\r\n\r\n            {transitions.map(({ item, key, props }) =>\r\n                item &&\r\n                    <animated.div className=\"wikiplaydia-green w3-sidebar\" style={props}>\r\n                        {!newGame &&\r\n                        <button\r\n                            onClick={() => {startNewGame(); setShowBar(!showBar);}}\r\n                            className=\"w3-bar-item w3-button\">\r\n                            <i className=\"fa fa-redo\"/>&nbsp;Neustarten\r\n                        </button>\r\n                        }\r\n                        <button\r\n                            className=\"w3-bar-item w3-button\"\r\n                            onClick={() => {setGameState(beforeGame); setShowBar(!showBar);}}>\r\n                            <i className=\"fa fa-window-close\"/>&nbsp;Zur Übersicht\r\n                        </button>\r\n                    </animated.div>\r\n            )}\r\n\r\n            {newGame &&\r\n            <button\r\n                className=\"letsgo-button w3-button w3-xlarge w3-round w3-card-4 w3-blue\"\r\n                onClick={startNewGame}>\r\n                Starten! <i className=\"fa fa-arrow-circle-right\"/>\r\n            </button>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ButtonBar;\r\n","import React, {useState, useEffect} from 'react';\r\nimport {beforeGame, GameState, Goal, Section} from \"../App\";\r\nimport DisplayArticle from \"./displayarticle/DisplayArticle\";\r\nimport axios from \"axios\";\r\nimport {article2sections} from \"./displayarticle/Parsers\";\r\nimport CurrentGoal from \"./currentgoal/CurrentGoal\";\r\nimport ButtonBar from \"./buttonbar/ButtonBar\";\r\n\r\ntype PlayProps = {\r\n    goal: Goal | null,\r\n    gameState: GameState,\r\n    setGameState: (state: GameState) => void,\r\n    setProgress: (progress: number) => void\r\n}\r\n\r\nconst Play: React.FC<PlayProps> = ({goal, setGameState, gameState,setProgress}) => {\r\n\r\n    /***************\r\n     * HOOKS\r\n     ***************/\r\n\r\n    const [article, setArticle] = useState<Section[]>([]);\r\n    const [goalArticle, setGoalArticle] = useState<Section[]>([]);\r\n    const [showGoal, setShowGoal] = useState(false);\r\n    const [newGame, setNewGame] = useState(true);\r\n\r\n    useEffect(() => {\r\n        setProgress(1);\r\n    }, [goalArticle])\r\n\r\n    // Effect to load the goal article\r\n    useEffect(() => {\r\n        setProgress(0);\r\n        axios.get(\"https://de.wikipedia.org/api/rest_v1/page/mobile-sections/\" + goal?.title.replace(\" \", \"_\"), {\r\n            onDownloadProgress: p => setProgress(p.loaded / 100000)\r\n        })\r\n            .then(res =>{\r\n                setGoalArticle(article2sections(res.data))\r\n            }).catch(err => console.log(err))\r\n        setShowGoal(true);\r\n    }, [goal])\r\n\r\n    // Check for win after new Article is loaded\r\n    useEffect(() => {\r\n        if (article.length && article[0].title === goal?.title)\r\n            setGameState({...gameState, win: true})\r\n    }, [article]);\r\n\r\n    /***************\r\n     * FUNCTIONS\r\n     ***************/\r\n\r\n    const loadNextArticle = (sections: Section[]) => {\r\n        setGameState({...gameState, clicks: gameState.clicks + 1})\r\n        setArticle(sections);\r\n    }\r\n\r\n    const startNewGame = () => {\r\n        setProgress(0);\r\n\r\n        setNewGame(false);\r\n        setGameState({...gameState, clicks: 0, win: false});\r\n        setShowGoal(false);\r\n        axios.get(\"https://de.wikipedia.org/api/rest_v1/page/random/mobile-sections\", {\r\n            onDownloadProgress: p => setProgress(p.loaded / 100000)\r\n        })\r\n            .then(res =>{\r\n                setArticle(article2sections(res.data))\r\n            }).catch(err => console.log(err))\r\n    }\r\n\r\n    /***************\r\n     * RENDERING\r\n     ***************/\r\n    return (\r\n        <div>\r\n            <ButtonBar\r\n                gameState={gameState}\r\n                newGame={newGame}\r\n                setGameState={setGameState}\r\n                startNewGame={startNewGame}\r\n                showGoal={showGoal} setShowGoal={setShowGoal}\r\n                goal={goal}\r\n            />\r\n            <div className=\"w3-container\">\r\n            <DisplayArticle article={article} setArticle={loadNextArticle} setProgress={setProgress}/>\r\n            <CurrentGoal show={showGoal} setShowGoal={setShowGoal} article={goalArticle} goal={goal}/>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Play;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {GameState, Goal, startGame} from \"../App\";\r\nimport cl from \"classnames\";\r\nimport {Trail} from \"react-spring/renderprops-universal\";\r\n\r\ntype SelectProps = {\r\n    goal: Goal | null,\r\n    setGoal: (goal: Goal) => void,\r\n    gameState: GameState,\r\n    setGameState: (state: GameState) => void\r\n}\r\n\r\nexport type Score = {\r\n    title: string,\r\n    level: number,\r\n    score: number\r\n}\r\n\r\nconst goals = [\r\n    {title: \"Trier\", level: 1, score: 0},\r\n    {title: \"Universität Trier\", level: 2, score: 0},\r\n    {title: \"Erdnuss\", level: 3, score: 0},\r\n    {title: \"Auderath\", level: 3, score: 0},\r\n    {title: \"Bon Jovi\", level: 3, score: 0},\r\n    {title: \"Frank Sinatra\", level: 3, score: 0},\r\n    {title: \"Poker\", level: 3, score: 0},\r\n    {title: \"Dirty Dancing\", level: 3, score: 0},\r\n    {title: \"Gordon Ramsay\", level: 3, score: 0},\r\n    {title: \"Star Trek\", level: 3, score: 0},\r\n];\r\n\r\n\r\nconst Select: React.FC<SelectProps> = ({goal, setGoal, setGameState, gameState}) => {\r\n\r\n    /***************\r\n     * HOOKS\r\n     ***************/\r\n\r\n    const [score, setScore] = useState<Score[]>([]);\r\n\r\n    // Reload score from local storage and create a data set, if not yet created\r\n    useEffect(() => {\r\n        const scoreString = localStorage.getItem(\"score\");\r\n        if (!scoreString){\r\n            localStorage.setItem(\"score\", JSON.stringify(goals));\r\n            setScore(goals);\r\n        } else {\r\n            let newScore = JSON.parse(localStorage.getItem(\"score\") as string);\r\n            if (newScore.length < goals.length) {\r\n                newScore= goals.map(g => {\r\n                    const s = newScore.find((sc: Goal) => sc.title === g.title)\r\n                    return ({\r\n                        ...g,\r\n                        score: s ? s.score : 0,\r\n                    })\r\n                })\r\n            }\r\n\r\n            setScore(newScore);\r\n        }\r\n    },[gameState.playing]);\r\n\r\n    /***************\r\n     * FUNCTIONS\r\n     ***************/\r\n\r\n    const handleClick = (g: Goal) => {\r\n        setGoal(g);\r\n        setGameState(startGame);\r\n    };\r\n\r\n    /***************\r\n     * RENDERING\r\n     ***************/\r\n    return (\r\n        <div>\r\n            <div className=\"w3-bar wikiplaydia-green w3-padding\"> <span className=\"w3-right\">Wikiplaydia</span></div>\r\n            <div className=\"w3-container w3-animate-opacity\">\r\n                <h2>Levelauswahl</h2>\r\n                {score.map(item =>\r\n                    <div\r\n                        key={item.title}\r\n                        className=\" w3-btn w3-round w3-border w3-border-green w3-margin\"\r\n                        onClick={() => handleClick(item)}>\r\n                        {item.title} {item.score ? <span> <i className=\"far fa-check-circle w3-text-green\"/> {item.score} Klicks </span>: \"\"}\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <div className=\"w3-container w3-animate-opacity\">\r\n                <h2>Wie funktionierts?</h2>\r\n                <ul className=\"w3-ul\">\r\n                    <li><i className=\"fa fa-list\"/> Level/Artikel auswählen</li>\r\n                    <li><i className=\"fa fa-glasses\"/> Kurz überfliegen und wichtige Punkte merken</li>\r\n                    <li><i className=\"fa fa-rocket\"/> Starten</li>\r\n                    <li><i className=\"far fa-check-circle\"/> Den Zielartikel über die Verlinkungen in den neuen Artikeln finden</li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Select;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {beforeGame, GameState, Goal} from \"../App\";\r\n\r\ntype WinProps = {\r\n    goal: Goal | null,\r\n    gameState: GameState,\r\n    setGameState: (state: GameState) => void\r\n}\r\n\r\nconst Win: React.FC<WinProps> = ({goal, setGameState, gameState}) => {\r\n\r\n    /***************\r\n     * HOOKS\r\n     ***************/\r\n\r\n    const [score, setScore] = useState<Goal[]>([]);\r\n\r\n    // Reload score from local storage and create a data set, if not yet created\r\n    useEffect(() => {\r\n        setScore(JSON.parse(localStorage.getItem(\"score\") as string));\r\n    },[gameState.playing]);\r\n\r\n    /***************\r\n     * FUNCTIONS\r\n     ***************/\r\n\r\n    const handleClick = () => {\r\n        const score = JSON.parse(localStorage.getItem(\"score\") as string);\r\n        localStorage.setItem(\"score\", JSON.stringify(\r\n            score.map((g: Goal) => g.title === goal?.title ?\r\n                ({...g, score: gameState.clicks}): g)\r\n        ));\r\n        setGameState(beforeGame);\r\n    }\r\n\r\n    /***************\r\n     * RENDERING\r\n     ***************/\r\n    return (\r\n        <div className=\"w3-modal\">\r\n            <div className=\"w3-modal-content w3-round w3-padding w3-animate-top\">\r\n                <h1>Gewonnen!</h1>\r\n                <ul>\r\n                    <li>{goal?.title} gefunden!</li>\r\n                    <li>{gameState.clicks} Klicks wurden benötigt</li>\r\n                </ul>\r\n                <div onClick={handleClick} className=\"w3-button wikiplaydia-green\">\r\n                    Speichern und zur Übersicht\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Win;\r\n","import React from 'react';\r\n\r\ntype ProgressBarProps = {\r\n    progress: number\r\n}\r\n\r\nconst ProgressBar: React.FC<ProgressBarProps> = ({progress}) => {\r\n\r\n    /***************\r\n     * HOOKS\r\n     ***************/\r\n\r\n    /***************\r\n     * FUNCTIONS\r\n     ***************/\r\n\r\n    const getStyle = () => ({\r\n        top: 0,\r\n        height:5,\r\n        width: `${progress * 100}%`,\r\n        transition: \"ease-in-out .4s\",\r\n    });\r\n\r\n    /***************\r\n     * RENDERING\r\n     ***************/\r\n    return (\r\n        <div className=\"wikiplaydia-green\" style={getStyle()}/>\r\n    )\r\n};\r\n\r\nexport default ProgressBar;\r\n","import React, { useState} from 'react';\r\nimport './App.css';\r\nimport {HtmlNode} from \"./play/displayarticle/Parsers\";\r\nimport Play from \"./play/Play\";\r\nimport Select from \"./select/Select\";\r\nimport Win from \"./win/Win\";\r\nimport ProgressBar from \"../assets/components/progressbar/ProgressBar\";\r\n\r\nexport type Section = {\r\n    title: string,\r\n    content: HtmlNode[]\r\n}\r\n\r\nexport type Goal = {\r\n    title: string,\r\n    level: number\r\n}\r\n\r\nexport type GameState = {\r\n    playing: boolean,\r\n    clicks: number,\r\n    win: boolean\r\n}\r\n\r\nexport const startGame =  {playing: true, clicks: 0, win: false}\r\nexport const beforeGame =  {playing: false, clicks: 0, win: false}\r\n\r\nconst App = () => {\r\n\r\n    const [goal, setGoal] = useState<Goal | null>(null);\r\n    const [gameState, setGameState] = useState<GameState>({playing: false, clicks: 0, win: false})\r\n    const [progress, setProgress] = useState(1);\r\n\r\n\r\n    return(\r\n        <div className=\"w3-card wrapper\">\r\n            <ProgressBar progress={progress}/>\r\n            {gameState.win &&\r\n                <Win\r\n                    goal={goal} gameState={gameState}\r\n                    setGameState={setGameState}\r\n                />\r\n            }\r\n            <div>\r\n                {gameState.playing ?\r\n                    <Play\r\n                        goal={goal} gameState={gameState}\r\n                        setGameState={setGameState}\r\n                        setProgress={setProgress}\r\n                    /> :\r\n                    <Select\r\n                        goal={goal} setGoal={setGoal}\r\n                        gameState={gameState} setGameState={setGameState}\r\n                    />\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport \"./assets/css/w3css.css\";\nimport \"./assets/css/all.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}